{% extends 'base/base.html' %}

{% block title %}Task List{% endblock %}

{% block content %}
  <h2>Task List</h2>

  <form method="get" class="mb-3">
    <div class="row">
      <div class="col-md-4">
        {{ form.name }}
      </div>

      <div class="col-md-4">
        {{ form.task_type }}
      </div>

      <div class="col-md-4">
        <div class="form-check">
          {{ form.show_my_tasks }}
          <label class="form-check-label" for="id_show_my_tasks">Show only my tasks</label>
        </div>
      </div>
    </div>

    <button type="submit" class="btn btn-primary mt-2">Filter</button>
  </form>

  <ul class="list-group">
    {% for task in object_list %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <a href="{% url 'tasks:task-detail' task.id %}">{{ task.name }}</a>
        <span>
            {% if task.is_completed %}
              <span class="badge bg-success">Completed</span>
            {% endif %}
        </span>
      </li>
    {% endfor %}
  </ul>

  {% include 'includes/pagination.html' with page_obj=page_obj %}
{% endblock %}
